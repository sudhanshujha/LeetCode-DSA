{"id":1214758822,"question_id":1023,"lang":"java","lang_name":"Java","time":"2 weeks, 6 days","timestamp":1711480820,"status":10,"status_display":"Accepted","runtime":"145 ms","url":"/submissions/detail/1214758822/","is_pending":"Not Pending","title":"Time Based Key-Value Store","memory":"117.9 MB","code":"import java.util.*;\n\nclass TimeMap {\n    Map<String, List<Pair>> map;\n\n    public TimeMap() {\n        map = new HashMap<>();\n    }\n\n    public void set(String key, String value, int timestamp) {\n        map.computeIfAbsent(key, k -> new ArrayList<>()).add(new Pair(timestamp, value));\n    }\n\n    public String get(String key, int timestamp) {\n        List<Pair> list = map.getOrDefault(key, new ArrayList<>());\n        \n        // Perform binary search on the list of timestamp-value pairs\n        int low = 0;\n        int high = list.size() - 1;\n        while (low <= high) {\n            int mid = low + (high - low) / 2;\n            if (list.get(mid).timestamp <= timestamp) {\n                if (mid == list.size() - 1 || list.get(mid + 1).timestamp > timestamp) {\n                    return list.get(mid).value;\n                } else {\n                    low = mid + 1;\n                }\n            } else {\n                high = mid - 1;\n            }\n        }\n        \n        return \"\";\n    }\n    \n    private static class Pair {\n        int timestamp;\n        String value;\n        \n        public Pair(int timestamp, String value) {\n            this.timestamp = timestamp;\n            this.value = value;\n        }\n    }\n}\n","compare_result":"111111111111111111111111111111111111111111111111111","title_slug":"time-based-key-value-store","has_notes":false,"flag_type":1}