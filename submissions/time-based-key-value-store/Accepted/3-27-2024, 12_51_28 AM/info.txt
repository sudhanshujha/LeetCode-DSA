{"id":1214759652,"question_id":1023,"lang":"java","lang_name":"Java","time":"2 weeks, 6 days","timestamp":1711480888,"status":10,"status_display":"Accepted","runtime":"133 ms","url":"/submissions/detail/1214759652/","is_pending":"Not Pending","title":"Time Based Key-Value Store","memory":"118.3 MB","code":"class Pair {\n    int timestamp;\n    String val;\n\n    Pair(int timestamp, String val) {\n        this.timestamp = timestamp;\n        this.val = val;\n    }\n}\n\npublic class TimeMap {\n\n    private HashMap<String, ArrayList<Pair>> hashMap;\n\n    public TimeMap() {\n        hashMap = new HashMap<>();\n    }\n\n    public void set(String key, String value, int timestamp) {\n        if (hashMap.containsKey(key)) {\n            hashMap.get(key).add(new Pair(timestamp, value));\n        } else {\n            ArrayList<Pair> arr = new ArrayList<>();\n            arr.add(new Pair(timestamp, value));\n            hashMap.put(key, arr);\n        }\n    }\n\n    public String get(String key, int timestamp) {\n\n        String cand = \"\";\n\n        if (hashMap.containsKey(key)) {\n            ArrayList<Pair> arr = hashMap.get(key);\n            int low = 0, high = arr.size() - 1;\n\n            while (low <= high) {\n                int mid = (low + high) / 2;\n                int timeVal = arr.get(mid).timestamp;\n                if (timeVal == timestamp) {\n                    return arr.get(mid).val;\n                } else if (timeVal < timestamp) {\n                    cand = arr.get(low).val;\n                    low = mid + 1;\n                } else {\n                    high = mid - 1;\n                }\n            }\n        }\n        return cand;\n    }\n\n}\n","compare_result":"111111111111111111111111111111111111111111111111111","title_slug":"time-based-key-value-store","has_notes":false,"flag_type":1}