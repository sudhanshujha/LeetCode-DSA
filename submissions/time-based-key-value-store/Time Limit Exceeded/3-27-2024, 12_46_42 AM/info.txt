{"id":1214756153,"question_id":1023,"lang":"java","lang_name":"Java","time":"2 weeks, 6 days","timestamp":1711480602,"status":14,"status_display":"Time Limit Exceeded","runtime":"N/A","url":"/submissions/detail/1214756153/","is_pending":"Not Pending","title":"Time Based Key-Value Store","memory":"N/A","code":"import java.util.*;\n\nclass Mtype {\n    String key;\n    String value;\n    int timestamp;\n\n    public Mtype(String key, String value, int timestamp) {\n        this.key = key;\n        this.value = value;\n        this.timestamp = timestamp;\n    }\n}\n\nclass TimeMap {\n    List<Mtype> a;\n\n    public TimeMap() {\n        a = new ArrayList<>();\n    }\n\n    public void set(String key, String value, int timestamp) {\n        // Create a new Mtype object\n        Mtype m = new Mtype(key, value, timestamp);\n        \n        // Find the correct position to insert based on timestamp\n        int index = 0;\n        while (index < a.size() && a.get(index).timestamp <= timestamp) {\n            index++;\n        }\n        \n        // Insert the new Mtype object at the correct position\n        a.add(index, m);\n    }\n\n    public String get(String key, int timestamp) {\n        // Perform binary search to find the correct timestamp\n        int low = 0;\n        int high = a.size() - 1;\n        int resultIndex = -1;\n        \n        while (low <= high) {\n            int mid = low + (high - low) / 2;\n            if (a.get(mid).timestamp == timestamp) {\n                resultIndex = mid;\n                break;\n            } else if (a.get(mid).timestamp < timestamp) {\n                resultIndex = mid;\n                low = mid + 1;\n            } else {\n                high = mid - 1;\n            }\n        }\n        \n        // Return the value corresponding to the found timestamp\n        if (resultIndex != -1 && a.get(resultIndex).key.equals(key)) {\n            return a.get(resultIndex).value;\n        } else if (resultIndex == -1) {\n            return \"\";\n        } else {\n            // Search for the previous entry with the same key\n            for (int i = resultIndex; i >= 0; i--) {\n                if (a.get(i).key.equals(key)) {\n                    return a.get(i).value;\n                }\n            }\n            return \"\";\n        }\n    }\n}\n","compare_result":"111111111111111111111111111111111111111111110000000","title_slug":"time-based-key-value-store","has_notes":false,"flag_type":1}