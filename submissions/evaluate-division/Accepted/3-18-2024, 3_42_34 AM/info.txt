{"id":1206700995,"question_id":399,"lang":"cpp","lang_name":"C++","time":"4 weeks, 1 day","timestamp":1710713554,"status":10,"status_display":"Accepted","runtime":"5 ms","url":"/submissions/detail/1206700995/","is_pending":"Not Pending","title":"Evaluate Division","memory":"11.2 MB","code":"class Solution {\npublic:\n    double dfs(string start, string end, unordered_map<string, unordered_map<string, double>>& graph, unordered_set<string>& visited){\n        if(graph.find(start) == graph.end()){\n            return -1;\n        }\n        \n        if(graph[start].find(end) != graph[start].end()){\n            return graph[start][end];\n        }\n        \n        for(const auto& nei : graph[start]){\n            if(find(visited.begin(), visited.end(), nei.first) != visited.end())\n                continue;\n            visited.insert(nei.first);\n            double res;\n            if((res = dfs(nei.first, end, graph, visited)) != -1){\n                //optimization: runtime 4ms -> 0ms\n                return graph[start][end] = graph[start][nei.first] * res;\n            }\n        }\n        \n        return -1;\n    }\n    \n    vector<double> calcEquation(vector<vector<string>>& equations, vector<double>& values, vector<vector<string>>& queries) {\n        unordered_map<string, unordered_map<string, double>> quot;\n        \n        int N = equations.size();\n        \n        for(int i = 0; i < N; i++){\n            const vector<string>& equation = equations[i];\n            const string& num = equation[0], den = equation[1];\n            const double& value = values[i];\n            quot[num][num] = 1.0;\n            quot[den][den] = 1.0;\n            quot[num][den] = value;\n            quot[den][num] = 1.0/value;\n        }\n        \n        vector<double> ans;\n        unordered_set<string> visited;\n        \n        for(const vector<string>& query : queries){\n            const string& num = query[0], den = query[1];\n            visited = {num};\n            ans.push_back(dfs(num, den, quot, visited));\n        }\n        \n        return ans;\n    }\n};","compare_result":"1111111111111111111111111111","title_slug":"evaluate-division","has_notes":false,"flag_type":1}